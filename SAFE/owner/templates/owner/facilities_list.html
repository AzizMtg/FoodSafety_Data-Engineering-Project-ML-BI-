<!DOCTYPE html>
<html lang="en">
    {% load static %}
<head>
    <meta charset="utf-8">
    <title>SAFE</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="" name="keywords">
    <meta content="" name="description">

    <!-- Favicon -->
    <link href="{% static 'img/favicon.ico' %}" rel="icon">

    <!-- Google Web Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Heebo:wght@400;500;600&family=Nunito:wght@600;700;800&family=Pacifico&display=swap" rel="stylesheet">

    <!-- Icon Font Stylesheet -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css" rel="stylesheet">

    <!-- Libraries Stylesheet -->
    <link href="{% static 'lib/animate/animate.min.css' %}" rel="stylesheet">
    <link href="{% static 'lib/owlcarousel/assets/owl.carousel.min.css' %}" rel="stylesheet">
    <link href="{% static 'lib/tempusdominus/css/tempusdominus-bootstrap-4.min.css' %}" rel="stylesheet" />

    <!-- Customized Bootstrap Stylesheet -->
    <link href="{% static 'css/bootstrap.min.css' %}" rel="stylesheet">

    <!-- Template Stylesheet -->
    <link href="{% static 'css/style.css' %}" rel="stylesheet">
</head>

<body>
    <div class="container-xxl bg-white p-0">
        <!-- Spinner Start -->
        <div id="spinner" class="show bg-white position-fixed translate-middle w-100 vh-100 top-50 start-50 d-flex align-items-center justify-content-center">
            <div class="spinner-border text-primary" style="width: 3rem; height: 3rem;" role="status">
                <span class="sr-only">Loading...</span>
            </div>
        </div>
        <!-- Spinner End -->

        <!-- Navbar & Hero Start -->
        <div class="container-xxl position-relative p-0">
            <nav class="navbar navbar-expand-lg navbar-dark bg-dark px-4 px-lg-5 py-3 py-lg-0">
                <a href="" class="navbar-brand p-0">
                    <h1 class="text-primary m-0"><i class="fa fa-utensils me-3"></i>SAFE</h1>
                </a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse">
                    <span class="fa fa-bars"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarCollapse">
                    <div class="navbar-nav ms-auto py-0 pe-4">
                        <a href="{% url 'profileClient' %}" class="nav-item nav-link active">Home</a>
                        <a href="{% url 'clients_list' %}" class="nav-item nav-link active">Facility List</a>
                        <a href="{% url 'clients_list' %}" class="nav-item nav-link active">Client Dashboard</a>
                    </div>
                    <a href="{% url 'index' %}" class="btn btn-primary py-2 px-4">LOGOUT</a>
                </div>
            </nav>
        
            <div class="container-xxl py-5 bg-dark hero-header mb-5">
                <div class="container my-5 py-5">
                    <div class="row align-items-center g-5">
                        <div class="col-lg-6 text-center text-lg-start">
                            <h1 class="display-3 text-white animated slideInLeft">Welcome Restaurant Owner<br>{{ user.username }}</h1>
                            <p class="text-white animated slideInLeft mb-4 pb-2">Tempor erat elitr rebum at clita. Diam dolor diam ipsum sit. Aliqu diam amet diam et eos. Clita erat ipsum et lorem et sit, sed stet lorem sit clita duo justo magna dolore erat amet</p>
                        </div>
                        <div class="col-lg-6 text-center text-lg-end overflow-hidden">
                            <img class="img-fluid" src="{% static 'img/resto.png' %}" alt="">
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Navbar & Hero End -->

        <!-- Facilities List Start -->
        <title>Facility List</title>
        
    </head>
    <body>
    
  <!-- Facilities List Start -->
  <div class="container-xxl py-5">
    <div class="container">
        <div class="row g-5 align-items-center">
            <!-- Image Section -->
            <div class="col-lg-6">
                <div class="row g-3">
                    <div class="col-6 text-start">
                        <img class="img-fluid rounded w-100 wow zoomIn" data-wow-delay="0.1s" src="{% static 'img/about-1.jpg' %}">
                    </div>
                    <div class="col-6 text-start">
                        <img class="img-fluid rounded w-75 wow zoomIn" data-wow-delay="0.3s" src="{% static 'img/about-2.jpg' %}" style="margin-top: 25%;">
                    </div>
                    <div class="col-6 text-end">
                        <img class="img-fluid rounded w-75 wow zoomIn" data-wow-delay="0.5s" src="{% static 'img/about-3.jpg' %}">
                    </div>
                    <div class="col-6 text-end">
                        <img class="img-fluid rounded w-100 wow zoomIn" data-wow-delay="0.7s" src="{% static 'img/about-4.jpg' %}">
                    </div>
                </div>
            </div>

            <!-- Facilities Display Section -->
            <div class="col-lg-6">
                <h5 class="section-title ff-secondary text-start text-primary fw-normal">Facilities</h5>
                <h1 class="mb-4">Explore Our Facilities</h1>
                <p class="mb-4">Discover the best facilities that offer exceptional services and are tailored to your needs. Browse through and find the one that suits you.</p>
                <div class="row g-4">
                    {% for facility in facilities %}
                    <div class="col-sm-6">
                        <div class="card border-0 shadow-sm h-100">
                            <div class="card-body">
                                <h5 class="card-title text-primary">{{ facility.facility_name }}</h5>
                                <p class="card-text mb-2">
                                    <strong>City:</strong> {{ facility.facility_city }}<br>
                                    <strong>State:</strong> {{ facility.facility_state }}<br>
                                    <strong>Revenue:</strong> {{ facility.predicted_revenue|default:"N/A" }}
                                </p>
                                <div class="d-flex justify-content-between">
                                    <a href="{% url 'update_facility' facility.pk %}" class="text-primary" title="Edit">
                                        <i class="fa fa-edit" style="font-size: 1.5rem; color: #ff8800;"></i>
                                    </a>
                                    <form method="POST" action="{% url 'delete_facility' facility.pk %}" class="m-0 p-0" style="display: inline;">
                                        {% csrf_token %}
                                        <button type="submit" onclick="return confirm('Are you sure you want to delete this review?')" class="btn btn-link text-danger" title="Delete">
                                            <i class="fa fa-trash" style="font-size: 1.5rem; color: #ff8800;"></i>
                                        </button>
                                  
                                    </form>
                                     <!-- Predict Icon -->
                                    <a href="{% url 'predict_revenue' facility.pk %}" class="text-warning" title="Predict">
                                        <i class="fa fa-chart-line" style="font-size: 1.5rem; color: #ff8800;"></i>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                    {% endfor %}
                </div>
                <div class="d-flex justify-content-end">
                    <a href="{% url 'create_facility' %}" class="text-success" title="Add New Facility">
                        <i class="fa fa-plus-circle" style="font-size: 1.5rem; color: #ff8800;"></i>
                    </a>
                </div>
                
            </div>
        </div>
    </div>
</div>

<!-- Facilities List End -->
<style>
    .card {
        transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    .card:hover {
        transform: translateY(-10px);
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.15);
    }
    .card-title {
        font-size: 1.25rem;
        font-weight: 600;
    }
    .card-footer .btn {
        font-size: 0.875rem;
        font-weight: 500;
    }
    </style>
    
<!-- JavaScript Libraries -->
<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="{% static 'lib/wow/wow.min.js' %}"></script>
<script src="{% static 'lib/easing/easing.min.js' %}"></script>
<script src="{% static 'lib/waypoints/waypoints.min.js' %}"></script>
<script src="{% static 'lib/counterup/counterup.min.js' %}"></script>
<script src="{% static 'lib/owlcarousel/owl.carousel.min.js' %}"></script>
<script src="{% static 'lib/tempusdominus/js/moment.min.js' %}"></script>
<script src="{% static 'lib/tempusdominus/js/moment-timezone.min.js' %}"></script>
<script src="{% static 'lib/tempusdominus/js/tempusdominus-bootstrap-4.min.js' %}"></script>

<!-- Template Javascript -->
<script src="{% static 'js/main.js' %}"></script>
<style>
    .btn-link {
        background: none;
        border: none;
        text-decoration: underline;
        cursor: pointer;
        font-size: inherit;
        font-family: inherit;
        padding: 0;
    }
</style>
</body>
</html>
